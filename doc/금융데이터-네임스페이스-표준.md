# 금융 데이터 수집 네임스페이스 표준

## 1. 개요

이 문서는 **데이터 소스에 독립적인** 금융 데이터 수집 라이브러리의 네임스페이스 표준을 정의합니다.

Yahoo Finance, KRX, Bloomberg, Reuters 등 어떤 데이터 소스를 사용하더라도 동일한 네임스페이스 구조를 적용할 수 있습니다.

### 적용 범위

| 시장 | 데이터 소스 예시 |
|-----|----------------|
| 미국 | Yahoo Finance, Alpha Vantage, IEX Cloud, Polygon.io |
| 한국 | KRX, 네이버 금융, 한국투자증권 API, eBest API |
| 글로벌 | Bloomberg, Reuters, FactSet, Morningstar |
| 매크로 | FRED, 한국은행, 통계청, World Bank |

---

## 2. 설계 원칙

### 핵심 원칙

1. **도메인 중심 설계**: 데이터 소스가 아닌 금융 도메인 기준으로 분류
2. **단일 책임**: 각 네임스페이스는 하나의 명확한 도메인만 담당
3. **데이터 소스 교체 가능**: 인터페이스는 유지, 구현체만 교체
4. **캐싱 전략 분리**: 도메인별 TTL 차별화 가능


---

## 3. 표준 네임스페이스 분류

### 3.1. 전체 네임스페이스 목록

| 네임스페이스 | 도메인 | 설명 |
|------------|-------|------|
| **exchange** | 거래소 | 거래소 정보, 영업시간, 휴장일 |
| **price** | 가격 | 현재가, 가격 히스토리, 거래량 |
| **tech** | 기술지표 | 이동평균, RSI, MACD, 볼린저밴드 등 |
| **stock** | 회사 정보 | 기본 정보, 섹터, 산업, ISIN |
| **financials** | 재무제표 | 손익계산서, 대차대조표, 현금흐름표 |
| **corp** | 기업 이벤트 | 배당, 분할, 자본이득, 유상증자 |
| **holders** | 소유 구조 | 주요 주주, 기관 보유, 내부자 거래 |
| **analyst** | 애널리스트 | 추천, 목표가, 실적 추정치 |
| **funds** | 펀드 | ETF/뮤추얼펀드 구성, 보유 종목 |
| **calendar** | 이벤트 일정 | 실적 발표일, 배당락일 |
| **news** | 뉴스/공시 | 뉴스 기사, 공시 문서 |
| **options** | 파생상품 | 옵션 체인, 선물 |
| **esg** | ESG | 환경, 사회, 지배구조 점수 |
| **macro** | 매크로 | 경제 지표, 금리, 환율 |
| **search** | 검색 | 심볼 검색, 회사명 검색 |

---

### 3.2. 네임스페이스 상세 정의

#### exchange (거래소)

**정의**: 거래소 메타데이터 및 운영 정보

**범용 기능**:
- 거래소 정보 (이름, 티커, 통화)
- 영업시간 (평일/주말/휴장일)
- 휴장일 (공휴일, 특별 휴장)
- 상장 기준 및 규제 정보
- 상장 종목 목록

---

#### price (가격 정보)

**정의**: 금융 상품의 현재가 및 히스토리 데이터

**범용 기능**:
- 현재가 (실시간/장중)
- 가격 히스토리 (OHLCV)
- 거래량, 시가총액
- 52주 고가/저가


---

#### tech (기술지표)

**정의**: 기술적 분석을 위한 지표 및 통계량

**범용 기능**:
- 이동평균 (SMA, EMA) - 10, 20, 50, 100, 200일
- 모멘텀 지표 (RSI, MACD, Stochastic)
- 변동성 지표 (볼린저 밴드, ATR)
- 거래량 지표 (OBV, CMF, VWAP)
- Pivots, Supports, Resistances

---

#### stock (회사 정보)

**정의**: 기업의 기본 정보 및 메타데이터

**범용 기능**:
- 회사명 (정식명, 약칭)
- 섹터, 산업 분류
- 국가, 거래소
- 웹사이트, 직원 수
- 사업 개요
- ISIN, CUSIP 등 식별자
- 발행 주식수

**경계 케이스**:
- `sharesOutstanding`: stock에 포함 (자주 변경되지 않는 회사 정보)
- `marketCap`: price에 포함 (실시간 변동 데이터)

---

#### financials (재무제표)

**정의**: 기업의 재무 상태 및 실적

**범용 기능**:
- 손익계산서 (연간, 분기, TTM)
- 대차대조표 (연간, 분기)
- 현금흐름표 (연간, 분기, TTM)
- 주요 재무 비율


---

#### corp (기업 이벤트)

**정의**: 기업의 자본 구조 관련 이벤트

**범용 기능**:
- 배당금 (현금 배당, 주식 배당)
- 주식 분할/병합
- 자본 이득 (펀드)
- 유상증자/무상증자 (KRX)
- 액면분할 (KRX)


---

#### holders (소유 구조)

**정의**: 주주 구조 및 내부자 거래 정보

**범용 기능**:
- 주요 주주 분포 (내부자, 기관, 개인)
- 기관 투자자 보유 현황
- 펀드 보유 현황
- 내부자 거래 내역


---

#### analyst (애널리스트 정보)

**정의**: 애널리스트의 분석 및 추정치

**범용 기능**:
- 투자 추천 (매수/매도/보유)
- 목표 주가
- 실적 추정치 (EPS, 매출)
- 실적 서프라이즈 히스토리

**경계 케이스**:
- 실적 **추정치/트렌드**: analyst
- 실적 **발표일/실제값**: calendar

---

#### funds (펀드 정보)

**정의**: ETF 및 뮤추얼펀드 구성 정보

**범용 기능**:
- 보유 종목 (Top Holdings)
- 자산 배분 (주식, 채권, 현금)
- 섹터 비중
- 운용 보수


---

#### calendar (이벤트 일정)

**정의**: 기업 관련 예정 이벤트

**범용 기능**:
- 실적 발표일
- 배당락일, 배당 지급일
- 주주총회일
- IPO 일정


---

#### news (뉴스 및 공시)

**정의**: 뉴스 기사 및 규제 공시

**범용 기능**:
- 관련 뉴스 기사
- 공시 문서 (SEC, 금감원)
- 기업 발표


---

#### options (파생상품)

**정의**: 옵션 및 선물 정보

**범용 기능**:
- 옵션 만기일 목록
- 옵션 체인 (콜/풋)
- 내재 변동성
- 그릭스 (Delta, Gamma, Theta, Vega)


---

#### esg (ESG 정보)

**정의**: 환경, 사회, 지배구조 점수

**범용 기능**:
- 통합 ESG 점수
- 개별 점수 (E, S, G)
- 동종 업계 비교
- 논란 지수


---

#### macro (매크로 지표)

**정의**: 거시 경제 지표

**범용 기능**:
- GDP, 실업률, 인플레이션
- 금리 (기준금리, 국채 수익률)
- 환율
- 원자재 가격


---

#### search (검색)

**정의**: 심볼 및 회사 검색

**범용 기능**:
- 티커 심볼 검색
- 회사명 검색
- 자동완성


---

## 4. 경계 케이스 정의

동일 데이터가 여러 도메인에 걸쳐 있을 수 있는 경우, 다음 기준으로 분류합니다:

| 데이터 | 담당 네임스페이스 | 기준 |
|-------|----------------|------|
| **시가총액 (marketCap)** | price | 주가 × 발행주식수로 실시간 변동 |
| **발행주식수 (sharesOutstanding)** | stock | 회사 기본 정보, 자주 변경 안됨 |
| **배당 수익률 (dividendYield)** | price - 현재 수익률<br>corp - 배당 히스토리 | 현재 vs 과거 |
| **실적 (earnings)** | calendar - 발표일, 실제값<br>analyst - 추정치, 트렌드 | 확정 이벤트 vs 예측 |
| **52주 고가/저가** | price | 가격 기반 통계 |
| **PER, PBR 등 비율** | financials | 재무 분석 지표 |

---

## 5. 자산 유형별 지원 매트릭스

| 네임스페이스 | Stock | ETF | MutualFund | Index | Forex | Crypto |
|------------|-------|-----|------------|-------|-------|--------|
| price | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| stock | ✅ | ⚠️ | ⚠️ | ❌ | ❌ | ⚠️ |
| financials | ✅ | ❌ | ❌ | ❌ | ❌ | ❌ |
| corp | ✅ | ⚠️ | ⚠️ | ❌ | ❌ | ❌ |
| holders | ✅ | ⚠️ | ❌ | ❌ | ❌ | ❌ |
| analyst | ✅ | ⚠️ | ❌ | ❌ | ❌ | ❌ |
| funds | ❌ | ✅ | ✅ | ❌ | ❌ | ❌ |
| calendar | ✅ | ⚠️ | ⚠️ | ❌ | ❌ | ❌ |
| news | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| options | ✅ | ✅ | ❌ | ✅ | ✅ | ⚠️ |
| esg | ✅ | ⚠️ | ⚠️ | ❌ | ❌ | ❌ |
| macro | N/A | N/A | N/A | N/A | N/A | N/A |
| search | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |

**범례**: ✅ 지원 / ⚠️ 부분 지원 / ❌ 미지원 / N/A 해당 없음

---

## 6. 체크리스트

새로운 금융 데이터 라이브러리 설계 시:

- [ ] 15개 표준 네임스페이스 검토
- [ ] 경계 케이스 정의 확인
- [ ] 자산 유형별 지원 범위 결정

---

**문서 버전**: 1.0
**작성일**: 2025-12-03
**적용 대상**: Yahoo Finance, KRX, Bloomberg 등 모든 금융 데이터 소스
